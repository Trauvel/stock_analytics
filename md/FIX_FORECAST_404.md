# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 404 –æ—à–∏–±–æ–∫ –≤ Event Forecast

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** FastAPI –Ω–µ –æ–±—Å–ª—É–∂–∏–≤–∞–ª —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (HTML, JS, CSS)

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ `app/api/server.py`:
```python
# –ú–æ–Ω—Ç–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
project_root = Path(__file__).parent.parent.parent
static_path = project_root / "static"
if static_path.exists():
    app.mount("/static", StaticFiles(directory=str(static_path)), name="static")
```

### 2. –ö–æ—Ä–Ω–µ–≤–æ–π –º–∞—Ä—à—Ä—É—Ç
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ `http://localhost:8000/` –±—ã–ª–∞ –æ—à–∏–±–∫–∞

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –¥–∞—à–±–æ—Ä–¥:
```python
@app.get("/", response_class=HTMLResponse)
async def root():
    """–†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É."""
    return redirect to /static/index.html
```

### 3. Import asyncio
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–≥–ª–∏ –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å async —Ñ—É–Ω–∫—Ü–∏—è–º–∏

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç:
```python
import asyncio
```

---

## üöÄ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

### –®–∞–≥ 1: –¢–µ—Å—Ç –º–æ–¥—É–ª—è
```bash
python test_forecast_api.py
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ –ú–æ–¥—É–ª—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ
‚úÖ –°–∏–≥–Ω–∞–ª —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω: HIGH_PROBABILITY
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
python run_server.py
```

–°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –Ω–∞ `http://localhost:8000`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- `http://localhost:8000/` - –¥–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ –¥–∞—à–±–æ—Ä–¥
- `http://localhost:8000/static/index.html` - –≥–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥
- `http://localhost:8000/static/forecast.html` - –ø–∞–Ω–µ–ª—å –ø—Ä–æ–≥–Ω–æ–∑–æ–≤

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ API
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- `http://localhost:8000/docs` - Swagger UI
- `http://localhost:8000/predictor/signal` - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å —Å–∏–≥–Ω–∞–ª–æ–º
- `http://localhost:8000/predictor/config` - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

---

## üêõ –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ 1: 404 –Ω–∞ /static/forecast.html
**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–µ—Ä –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
python run_server.py
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
**–°–∏–º–ø—Ç–æ–º—ã:** 
```
Failed to load resource: net::ERR_FAILED
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Network"
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
4. –ù–∞–π–¥–∏—Ç–µ –∫—Ä–∞—Å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –∑–∞–ø—Ä–æ—Å–∞

**–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:**
- `/predictor/signal` –≤–º–µ—Å—Ç–æ `http://localhost:8000/predictor/signal`
- –†–µ—à–µ–Ω–∏–µ: –í `forecast.js` —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `API_BASE = ''` (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏)

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –î–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
**–°–∏–º–ø—Ç–æ–º—ã:** –ö—Ä—É—Ç–∏—Ç—Å—è spinner "–ó–∞–≥—Ä—É–∑–∫–∞..."

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ API –æ—Ç–≤–µ—á–∞–µ—Ç
curl http://localhost:8000/predictor/signal

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON:
{
  "ok": true,
  "data": {
    "signal_level": "...",
    ...
  }
}
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: CORS –æ—à–∏–±–∫–∏
**–°–∏–º–ø—Ç–æ–º—ã:**
```
Access to fetch at '...' from origin '...' has been blocked by CORS policy
```

**–†–µ—à–µ–Ω–∏–µ:** –£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `server.py`:
```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    ...
)
```

–ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ —á–µ—Ä–µ–∑ `http://localhost:8000`, –∞ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é —Ñ–∞–π–ª (`file:///...`)

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –Ω–æ–≤–æ—Å—Ç—è—Ö
**–°–∏–º–ø—Ç–æ–º—ã:** "–ù–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è"

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
2. RSS –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
3. –ö—ç—à –ø—É—Å—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
curl https://www.interfax.ru/rss.asp
curl https://www.rbc.ru/rss/

# –ï—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã - –∏–∑–º–µ–Ω–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ config/predictor.yaml
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] `python test_forecast_api.py` - —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] `python run_server.py` - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- [ ] `http://localhost:8000/` - —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ –¥–∞—à–±–æ—Ä–¥
- [ ] `http://localhost:8000/static/forecast.html` - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–µ—Ç –∫—Ä–∞—Å–Ω—ã—Ö –æ—à–∏–±–æ–∫
- [ ] API endpoint `/predictor/signal` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON
- [ ] –ö–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ú–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —Ç–∏–∫–µ—Ä—ã –∏ –Ω–∞–∂–∞—Ç—å "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"
- [ ] –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- [ ] –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

## üéØ –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤
```bash
# –î–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å:
ls static/forecast.html
ls static/js/forecast.js
ls static/css/style.css
ls app/predictor/__init__.py
ls config/predictor.yaml
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç 8000 —Å–≤–æ–±–æ–¥–µ–Ω
netstat -ano | findstr :8000

# –ï—Å–ª–∏ –∑–∞–Ω—è—Ç - –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ run_server.py
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
# –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏:
# INFO:     Mounted static files from D:\...\static
# INFO:     Application startup complete
```

---

## ‚ú® –ò—Ç–æ–≥–æ

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
2. ‚úÖ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
3. ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
4. ‚úÖ –ö–æ—Ä–Ω–µ–≤–æ–π –º–∞—Ä—à—Ä—É—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
5. ‚úÖ Async –∏–º–ø–æ—Ä—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ

**–ü–∞–Ω–µ–ª—å Event Forecast –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

---

**–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å** - –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12), —Å–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –æ—à–∏–±–æ–∫ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞.

