# ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–π LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –Ω–æ–≤–æ—Å—Ç–µ–π

## üéØ –¶–µ–ª—å
–ü–æ–¥–∫–ª—é—á–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é GPT-–º–æ–¥–µ–ª—å –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ—Å—Ç–µ–π, –æ—Å–æ–±–µ–Ω–Ω–æ –∑–∞–≤—É–∞–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—Ä–∞–∑.

---

## üîß –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏–π

### –í–∞—Ä–∏–∞–Ω—Ç 1: Ollama (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é) ‚≠ê

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –≤ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏
- ‚úÖ REST API –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–µ–π
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ CPU –∏ GPU

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
# Windows
winget install Ollama.Ollama

# –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
ollama run mistral  # –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω–∞—è –º–æ–¥–µ–ª—å, 7B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ:**
- `mistral` (7B) - —Ö–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç—å/–∫–∞—á–µ—Å—Ç–≤–æ
- `llama3.1` (8B) - –æ—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- `saiga` (7B) - —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- `qwen2.5` (7B) - —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä—É—Å—Å–∫–∏–º

**–†–∞–∑–º–µ—Ä:** ~4-5 GB –Ω–∞ –º–æ–¥–µ–ª—å

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: llama-cpp-python

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–≤–∞–Ω—Ç–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏)

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –°–ª–æ–∂–Ω–µ–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- ‚ùå –ù—É–∂–Ω–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Å–∫–∞—á–∏–≤–∞—Ç—å –º–æ–¥–µ–ª–∏

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: Transformers + HuggingFace

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- ‚úÖ –ú–Ω–æ–≥–æ –≥–æ—Ç–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–∞ CPU

---

## üöÄ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å Ollama (–±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Ollama
# https://ollama.com/download

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–æ–¥–µ–ª—å
ollama pull mistral
```

### –®–∞–≥ 2: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
app/predictor/
‚îú‚îÄ‚îÄ analyzer.py          # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π (keyword-based)
‚îú‚îÄ‚îÄ llm_analyzer.py      # –ù–û–í–´–ô - –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ LLM
‚îú‚îÄ‚îÄ hybrid_analyzer.py   # –ù–û–í–´–ô - –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ config.py           # –û–±–Ω–æ–≤–ª—ë–Ω - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ LLM
```

### –®–∞–≥ 3: –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

```python
# –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç):

1. –ë—ã—Å—Ç—Ä—ã–π —Ñ–∏–ª—å—Ç—Ä (keyword-based)
   ‚Üì
   –û—Ç—Å–µ–∏–≤–∞–µ–º —è–≤–Ω–æ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ (90% –Ω–æ–≤–æ—Å—Ç–µ–π)
   
2. –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (LLM)
   ‚Üì
   –¢–æ–ª—å–∫–æ –¥–ª—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π (10%)
   –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç, —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω—é–∞–Ω—Å—ã
   
3. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   ‚Üì
   keyword_score * 0.3 + llm_score * 0.7
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–æ—á–Ω–µ–µ + –ë—ã—Å—Ç—Ä–µ–µ

---

## üìù –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è LLM

```python
prompt = f"""
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ –æ –∫–æ–º–ø–∞–Ω–∏–∏ "{company}".

–ù–æ–≤–æ—Å—Ç—å: "{news_text}"

–û–ø—Ä–µ–¥–µ–ª–∏:
1. –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è/–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è/–Ω–µ–≥–∞—Ç–∏–≤–Ω–∞—è
2. –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: –≤—ã—Å–æ–∫–∞—è/—Å—Ä–µ–¥–Ω—è—è/–Ω–∏–∑–∫–∞—è
3. –ë–∞–ª–ª –æ—Ç -1 (–Ω–µ–≥–∞—Ç–∏–≤) –¥–æ +1 (–ø–æ–∑–∏—Ç–∏–≤)

–£—á–∏—Ç—ã–≤–∞–π:
- –ó–∞–≤—É–∞–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –æ—Ç—Ä–∞—Å–ª–∏
- –í–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –¥–ª—è –∞–∫—Ü–∏–π

–û—Ç–≤–µ—Ç –≤ JSON:
{{
  "sentiment": "positive/neutral/negative",
  "confidence": "high/medium/low",
  "score": 0.7,
  "reasoning": "–∫—Ä–∞—Ç–∫–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ"
}}
"""
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã —É–ª—É—á—à–µ–Ω–∏–π

### –î–æ (keyword-based):
```
–ù–æ–≤–æ—Å—Ç—å: "–ö–æ–º–ø–∞–Ω–∏—è –æ—Ç–ª–æ–∂–∏–ª–∞ –∑–∞–ø—É—Å–∫ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞"
–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ: "–∑–∞–ø—É—Å–∫" ‚Üí –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π
–†–µ–∑—É–ª—å—Ç–∞—Ç: +0.5 (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!)
```

### –ü–æ—Å–ª–µ (LLM):
```
–ù–æ–≤–æ—Å—Ç—å: "–ö–æ–º–ø–∞–Ω–∏—è –æ—Ç–ª–æ–∂–∏–ª–∞ –∑–∞–ø—É—Å–∫ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞"
LLM –∞–Ω–∞–ª–∏–∑: "–æ—Ç–ª–æ–∂–∏–ª–∞" = –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
–†–µ–∑—É–ª—å—Ç–∞—Ç: -0.3 (–ü–†–ê–í–ò–õ–¨–ù–û!)
```

### –ó–∞–≤—É–∞–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—Ä–∞–∑–∞:
```
–ù–æ–≤–æ—Å—Ç—å: "–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–µ—Ä–µ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ä–∞–∑–≤–∏—Ç–∏—è"
Keyword: –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ (0.0)
LLM: "–ø–µ—Ä–µ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç" –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã ‚Üí -0.2
```

---

## üéõÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –†–µ–∂–∏–º 1: –¢–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ (–±—ã—Å—Ç—Ä–æ)
```yaml
llm:
  enabled: true
  use_for: "relevant_only"  # –¢–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ
  threshold: 0.3            # –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ keyword_score > 0.3
  timeout: 5                # –ú–∞–∫—Å 5 —Å–µ–∫ –Ω–∞ –Ω–æ–≤–æ—Å—Ç—å
```

### –†–µ–∂–∏–º 2: –í—Å—ë —á–µ—Ä–µ–∑ LLM (—Ç–æ—á–Ω–æ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ)
```yaml
llm:
  enabled: true
  use_for: "all"
  batch_size: 5  # –ü–æ 5 –Ω–æ–≤–æ—Å—Ç–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
```

### –†–µ–∂–∏–º 3: –¢–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)
```yaml
llm:
  enabled: true
  use_for: "uncertain"  # –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ keyword –Ω–µ —É–≤–µ—Ä–µ–Ω
  uncertainty_range: [0.1, 0.3]  # –î–∏–∞–ø–∞–∑–æ–Ω —Å–æ–º–Ω–µ–Ω–∏–π
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –¢–æ—á–Ω–æ—Å—Ç—å:
- Keyword-based: ~65%
- LLM: ~85%
- Hybrid: ~80% (–±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç—å/–∫–∞—á–µ—Å—Ç–≤–æ)

### –°–∫–æ—Ä–æ—Å—Ç—å:
- Keyword: ~0.001 —Å–µ–∫/–Ω–æ–≤–æ—Å—Ç—å
- LLM: ~1-3 —Å–µ–∫/–Ω–æ–≤–æ—Å—Ç—å
- Hybrid: ~0.3 —Å–µ–∫/–Ω–æ–≤–æ—Å—Ç—å (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ 10%)

---

## üî• –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 —à–∞–≥–æ–≤)

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Ollama**
   ```bash
   winget install Ollama.Ollama
   ```

2. **–°–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å**
   ```bash
   ollama pull mistral
   ```

3. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å**
   ```bash
   pip install ollama
   ```

4. **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥** (—è –º–æ–≥—É —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å!)

5. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å** `config/predictor.yaml`

---

## ‚ùì –í–æ–ø—Ä–æ—Å—ã

1. **–£ –≤–∞—Å –µ—Å—Ç—å GPU?** (NVIDIA/AMD)
   - –î–∞ ‚Üí –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏
   - –ù–µ—Ç ‚Üí –ë—É–¥–µ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è CPU

2. **–°–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏?**
   - 8 GB ‚Üí –ú–æ–¥–µ–ª–∏ 7B
   - 16 GB ‚Üí –ú–æ–¥–µ–ª–∏ 13B
   - 32+ GB ‚Üí –ú–æ–¥–µ–ª–∏ 70B

3. **–ö–∞–∫ —á–∞—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∞–Ω–∞–ª–∏–∑?**
   - –†–∞–∑ –≤ –¥–µ–Ω—å ‚Üí –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω—É—é —Ç–æ—á–Ω—É—é –º–æ–¥–µ–ª—å
   - Real-time ‚Üí –ë—ã—Å—Ç—Ä–∞—è –º–∞–ª–µ–Ω—å–∫–∞—è –º–æ–¥–µ–ª—å

---

## üéØ –ú–æ–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**–î–ª—è –Ω–∞—á–∞–ª–∞:**
1. Ollama + Mistral 7B
2. –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º (keyword + LLM –¥–ª—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö)
3. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –¢–æ—á–Ω–æ—Å—Ç—å –≤—ã—Ä–∞—Å—Ç–µ—Ç —Å 65% –¥–æ 80%
- ‚úÖ –°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–∏–µ–º–ª–µ–º–∞—è (~5-10 —Å–µ–∫ –Ω–∞ –≤–µ—Å—å –∞–Ω–∞–ª–∏–∑)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç offline
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ

---

**–•–æ—Ç–∏—Ç–µ —á—Ç–æ–±—ã —è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª —ç—Ç–æ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?** üöÄ

–°–∫–∞–∂–∏—Ç–µ:
1. –ï—Å—Ç—å –ª–∏ —É –≤–∞—Å GPU?
2. –°–∫–æ–ª—å–∫–æ RAM?
3. –°–æ–≥–ª–∞—Å–Ω—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Ollama?

