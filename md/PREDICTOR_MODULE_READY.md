# ‚úÖ –ú–æ–¥—É–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö –≤—Å–ø–ª–µ—Å–∫–æ–≤ –≥–æ—Ç–æ–≤!

## üéâ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–Ω–Ω–µ–≥–æ –≤—ã—è–≤–ª–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö –≤—Å–ø–ª–µ—Å–∫–æ–≤ (–∞–Ω–∞–ª–æ–≥ SPBE-–∫–µ–π—Å–∞) —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ —Å–∏—Å—Ç–µ–º—É Stock Analytics.

### üìÅ –°–æ–∑–¥–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
app/predictor/
‚îú‚îÄ‚îÄ __init__.py          ‚úì –≠–∫—Å–ø–æ—Ä—Ç –≥–ª–∞–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
‚îú‚îÄ‚îÄ collector.py         ‚úì Async —Å–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ RSS –∏ hh.ru API
‚îú‚îÄ‚îÄ analyzer.py          ‚úì NLP-–∞–Ω–∞–ª–∏–∑ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
‚îú‚îÄ‚îÄ signals.py           ‚úì –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è
‚îú‚îÄ‚îÄ config.py            ‚úì –ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ README.md            ‚úì –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

config/
‚îî‚îÄ‚îÄ predictor.yaml       ‚úì –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤

tests/
‚îî‚îÄ‚îÄ test_predictor.py    ‚úì 15+ unit –∏ integration —Ç–µ—Å—Ç–æ–≤

–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞:
‚îî‚îÄ‚îÄ test_predictor_demo.py  ‚úì –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
```

### üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:**
- ‚úÖ `app/reco/models.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –¥–ª—è event_predictor
- ‚úÖ `app/reco/config.py` - –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
- ‚úÖ `app/reco/engine.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ scoring
- ‚úÖ `config/reco.yaml` - –≤–µ—Å–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ `requirements.txt` - –¥–æ–±–∞–≤–ª–µ–Ω—ã aiohttp, beautifulsoup4, lxml

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2Ô∏è‚É£ –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
import asyncio
from app.predictor import generate_event_signals

async def main():
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–∏–≥–Ω–∞–ª –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏
    signal = await generate_event_signals(target_companies=['SBER', '–°–±–µ—Ä–±–∞–Ω–∫'])
    
    print(f"–£—Ä–æ–≤–µ–Ω—å: {signal['signal_level']}")
    print(f"–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: {signal['reason']}")
    
    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    stats = signal['stats']
    print(f"–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –Ω–æ–≤–æ—Å—Ç–µ–π: {stats['total']}")
    print(f"–ü–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö: {stats['HIGH_PROBABILITY']}")
    print(f"–ù–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö: {stats['NEGATIVE']}")

asyncio.run(main())
```

### 3Ô∏è‚É£ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏

```python
from app.reco.engine import make_reco, get_event_signal
from app.reco.models import TickerSnapshot, RecoConfig

# –ü–æ–ª—É—á–∞–µ–º —Å–∏–≥–Ω–∞–ª
event_signal = get_event_signal('SBER')

# –°–æ–∑–¥–∞—ë–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é —Å —É—á—ë—Ç–æ–º –Ω–æ–≤–æ—Å—Ç–Ω–æ–≥–æ —Ñ–æ–Ω–∞
snapshot = TickerSnapshot(
    symbol='SBER',
    price=270.0,
    sma200=280.0,
    dy_pct=9.5
)

config = RecoConfig()
recommendation = make_reco(snapshot, config, event_signal=event_signal)

print(f"–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: {recommendation.action}")
print(f"Score: {recommendation.score}")
```

### 4Ô∏è‚É£ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

```bash
python test_predictor_demo.py
```

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç:
- –ê–Ω–∞–ª–∏–∑ –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è SBER, GAZP, YNDX
- –¢–æ–ø-3 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Å/–±–µ–∑ –º–æ–¥—É–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π

---

## üìä –£—Ä–æ–≤–Ω–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

| –°–∏–≥–Ω–∞–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –í–µ—Å –≤ score | –ö–æ–≥–¥–∞ –≤—ã–¥–∞—ë—Ç—Å—è |
|--------|----------|-------------|----------------|
| üü¢ `HIGH_PROBABILITY` | –í—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π | **+1.5** | 2+ HIGH –Ω–æ–≤–æ—Å—Ç–∏, avg_score > 0.4 |
| üü° `MEDIUM_PROBABILITY` | –£–º–µ—Ä–µ–Ω–Ω–æ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π —Ñ–æ–Ω | **+0.5** | 4+ MEDIUM –Ω–æ–≤–æ—Å—Ç–∏, avg_score > 0.3 |
| üî¥ `NEGATIVE_SIGNAL` | –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è | **-1.0** | 3+ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–∏ |
| ‚ö™ `LOW` | –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö | **0.0** | –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏ |

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª: `config/predictor.yaml`

```yaml
# –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π
news_sources:
  - https://www.interfax.ru/rss.asp
  - https://www.rbc.ru/rss/
  - https://www.kommersant.ru/RSS/news.xml

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏ —Å hh.ru
use_vacancies: true

# –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
positive_keywords:
  - –∑–∞–ø—É—Å–∫
  - —Ñ—å—é—á–µ—Ä—Å
  - –Ω–æ–≤–∞—è —Å–µ–∫—Ü–∏—è
  - API
  - –∏–Ω–Ω–æ–≤–∞—Ü–∏—è

# –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
negative_keywords:
  - —Å–∞–Ω–∫—Ü–∏–∏
  - —É–±—ã—Ç–∫–∏
  - –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞

# –ö—ç—à (—Å–µ–∫—É–Ω–¥—ã)
cache_ttl: 3600

# –ò—Å—Ç–æ—Ä–∏—è —Å–æ–±—ã—Ç–∏–π
events_log_path: data/events_history.json
```

### –§–∞–π–ª: `config/reco.yaml`

```yaml
# ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ...

# –ú–æ–¥—É–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π
event_predictor:
  enabled: true
  weight:
    HIGH_PROBABILITY: 1.5
    MEDIUM_PROBABILITY: 0.5
    NEGATIVE_SIGNAL: -1.0
    LOW: 0.0
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ unit-—Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã –º–æ–¥—É–ª—è
pytest tests/test_predictor.py -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_predictor.py::TestNewsAnalyzer::test_positive_keywords_detection -v
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

- ‚úÖ NewsCollector: fetch_rss, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, hh.ru API
- ‚úÖ NewsAnalyzer: –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–π, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ EventSignalGenerator: HIGH/MEDIUM/NEGATIVE/LOW —Å–∏–≥–Ω–∞–ª—ã
- ‚úÖ PredictorConfig: –∑–∞–≥—Ä—É–∑–∫–∞, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –¥–µ—Ñ–æ–ª—Ç—ã

---

## üìù –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ö–µ–π—Å: –†–∞–Ω–Ω–µ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ —Ñ—å—é—á–µ—Ä—Å–æ–≤ –Ω–∞ –°–ü–ë –ë–∏—Ä–∂–µ

```python
import asyncio
from app.predictor import generate_event_signals

async def detect_spbe_futures_launch():
    """–ü—Ä–∏–º–µ—Ä: –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∑–∞–ø—É—Å–∫–∞ —Ñ—å—é—á–µ—Ä—Å–æ–≤ SPBE."""
    
    signal = await generate_event_signals(
        target_companies=['SPBE', '–°–ü–ë –ë–∏—Ä–∂–∞', 'SPB Exchange']
    )
    
    if signal['signal_level'] == 'HIGH_PROBABILITY':
        print("‚ö° –°–ò–õ–¨–ù–´–ô –°–ò–ì–ù–ê–õ!")
        print(f"–ü—Ä–∏—á–∏–Ω–∞: {signal['reason']}")
        
        # –°–º–æ—Ç—Ä–∏–º –¥–µ—Ç–∞–ª–∏
        for item in signal['top_items'][:5]:
            print(f"\nüì∞ {item['title']}")
            print(f"   –ë–∞–ª–ª: {item['score']:.2f}")
            print(f"   –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: {', '.join(item['matched_keywords'])}")
        
        # –î–µ–π—Å—Ç–≤–∏–µ: –æ—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–∞ –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–∫—É–ø–∫–∞
        print("\nüí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∫—É–ø–∫—É SPBE")
    
    elif signal['signal_level'] == 'NEGATIVE_SIGNAL':
        print("‚ö†Ô∏è –ù–ï–ì–ê–¢–ò–í–ù–´–ô –°–ò–ì–ù–ê–õ!")
        print(f"–ü—Ä–∏—á–∏–Ω–∞: {signal['reason']}")
        print("üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –í–æ–∑–¥–µ—Ä–∂–∞—Ç—å—Å—è –æ—Ç –ø–æ–∫—É–ø–∫–∏")
    
    else:
        print(f"‚ÑπÔ∏è –°–∏–≥–Ω–∞–ª: {signal['signal_level']}")
        print(f"–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞")

asyncio.run(detect_spbe_futures_launch())
```

---

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ò—Å—Ç–æ—Ä–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤

–í—Å–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ —Å–∏–≥–Ω–∞–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `data/events_history.json`:

```python
import json
from pathlib import Path

history_file = Path('data/events_history.json')
if history_file.exists():
    with open(history_file, 'r', encoding='utf-8') as f:
        history = json.load(f)
    
    print(f"–í—Å–µ–≥–æ —Å–∏–≥–Ω–∞–ª–æ–≤: {len(history)}")
    
    # –ü–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–≥–Ω–∞–ª
    last = history[-1]
    print(f"–ü–æ—Å–ª–µ–¥–Ω–∏–π: {last['signal_level']} –≤ {last['timestamp']}")
```

### –õ–æ–≥–∏

–õ–æ–≥–∏ –º–æ–¥—É–ª—è: `data/logs/predictor.log`

```bash
tail -f data/logs/predictor.log
```

---

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

1. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –í—Å–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ `aiohttp` –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (1 —á–∞—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
3. **–†—É—Å—Å–∫–∏–π —è–∑—ã–∫**: Keyword matching –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ —Ä—É—Å—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: Try/except –≤–æ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ü–ª–∞–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: 15+ —Ç–µ—Å—Ç–æ–≤ —Å –º–æ–∫–∏–Ω–≥–æ–º –≤–Ω–µ—à–Ω–∏—Ö API
7. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: YAML –¥–ª—è –ª—ë–≥–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
8. **–ò—Å—Ç–æ—Ä–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

### üîÑ –£–ª—É—á—à–µ–Ω–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ roadmap

- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ **Rate limiting** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ try/except
- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—è —Å–æ–±—ã—Ç–∏–π** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ reco** - —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `event_signal` –≤ `make_reco()`

---

## üìà Roadmap —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π (–∏–∑ roadmap_3.0.md)

### –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ ‚úÖ
- [x] –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [x] –°–±–æ—Ä RSS –Ω–æ–≤–æ—Å—Ç–µ–π
- [x] API –≤–∞–∫–∞–Ω—Å–∏–π hh.ru
- [x] Keyword-based –∞–Ω–∞–ª–∏–∑
- [x] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ (HIGH/MEDIUM/LOW/NEGATIVE)
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- [x] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ YAML
- [x] Unit –∏ integration —Ç–µ—Å—Ç—ã

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ üîÆ
- [ ] GPT-–º–æ–¥–µ–ª—å –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ (transformers)
- [ ] –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å "Event Forecast" –≤ GUI
- [ ] Webhook –¥–ª—è Telegram-–∫–∞–Ω–∞–ª–æ–≤
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
- [ ] Sentiment analysis –¥–ª—è –∑–∞–≤—É–∞–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—Ä–∞–∑

---

## ü§ù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### –ü—Ä–∏–º–µ—Ä –≤ scheduler/daily_job.py

```python
from app.predictor import generate_event_signals

async def daily_analysis():
    """–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å —É—á—ë—Ç–æ–º –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤."""
    
    tickers = ['SBER', 'GAZP', 'YNDX', 'VTBR']
    
    for ticker in tickers:
        # –ü–æ–ª—É—á–∞–µ–º —Å–∏–≥–Ω–∞–ª –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
        event_signal = await generate_event_signals([ticker])
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é
        snapshot = get_ticker_snapshot(ticker)
        recommendation = make_reco(snapshot, config, event_signal=event_signal)
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –æ—Ç—á—ë—Ç
        save_recommendation(ticker, recommendation, event_signal)
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ —Ñ–∞–π–ª–µ: **`app/predictor/README.md`**

–í–∫–ª—é—á–∞–µ—Ç:
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- API —Ä–µ—Ñ–µ—Ä–µ–Ω—Å
- –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- Best practices

---

## ‚ú® –ò—Ç–æ–≥–æ

**–ú–æ–¥—É–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

### –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ: `python test_predictor_demo.py`
2. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ: `from app.predictor import generate_event_signals`
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ `config/predictor.yaml`
4. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã: `pytest tests/test_predictor.py`
5. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- üöÄ **–ë—ã—Å—Ç—Ä—ã–π**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã + –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- üéØ **–¢–æ—á–Ω—ã–π**: Keyword matching + context analysis
- üîß **–ì–∏–±–∫–∏–π**: –õ–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ YAML
- üß™ **–ù–∞–¥—ë–∂–Ω—ã–π**: –ü–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏
- üìä **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π**: –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

---

**–ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**

