# ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø–æ–∑–∏—Ü–∏–π –∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å **–≤—Å–µ —Ç–∏–∫–µ—Ä—ã –∏–∑ –≤–∞—à–µ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è** –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–∞!

## üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- ‚ùå –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ —Ç–∏–∫–µ—Ä—ã –∏–∑ `config.yaml`
- ‚ùå –¢–∏–∫–µ—Ä—ã –∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å
- ‚ùå –ù—É–∂–Ω–æ –±—ã–ª–æ –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–π —Ç–∏–∫–µ—Ä

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–∏–∫–µ—Ä—ã –∏–∑ `data/portfolio.json`
- ‚úÖ –û–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è —Å —Ç–∏–∫–µ—Ä–∞–º–∏ –∏–∑ `config.yaml`
- ‚úÖ –£–±–∏—Ä–∞—é—Ç—Å—è –¥—É–±–ª–∏–∫–∞—Ç—ã
- ‚úÖ –í—Å–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ

## üìä –í–∞—à —Å–ª—É—á–∞–π

**–í –ø–æ—Ä—Ç—Ñ–µ–ª–µ –±—ã–ª–æ:**
- RU000A10AS85 (–æ–±–ª–∏–≥–∞—Ü–∏—è)
- SBGB (—Ñ–æ–Ω–¥)
- SBMX (—Ñ–æ–Ω–¥)
- RTKM (–†–æ—Å—Ç–µ–ª–µ–∫–æ–º)
- YDEX (–Ø–Ω–¥–µ–∫—Å)
- TGLD@ (–∑–æ–ª–æ—Ç–æ)

**–í config.yaml:**
- 16 —Ç–∏–∫–µ—Ä–æ–≤ (SBER, GAZP, LKOH, YNDX –∏ –¥—Ä.)

**–¢–µ–ø–µ—Ä—å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è:**
- **21 —Ç–∏–∫–µ—Ä** = 16 –∏–∑ config + 5 –Ω–æ–≤—ã—Ö –∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è

**–î–æ–±–∞–≤–ª–µ–Ω—ã –∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è:**
1. RU000A10AS85
2. SBGB
3. SBMX
4. RTKM
5. TGLD (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–µ–Ω –æ—Ç @ –≤ –∫–æ–Ω—Ü–µ)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- YNDX —É–∂–µ –±—ã–ª –≤ config, –¥—É–±–ª–∏–∫–∞—Ç –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω
- YDEX —ç—Ç–æ –¥—Ä—É–≥–æ–π —Ç–∏–∫–µ—Ä, —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑ –∫–∞–∫ –æ–±—ã—á–Ω–æ:

```powershell
# –î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ:
.\run_analysis.ps1

# –ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É:
python run_job_once.py
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:

1. ‚úÖ –ó–∞–≥—Ä—É–∑—è—Ç—Å—è —Ç–∏–∫–µ—Ä—ã –∏–∑ `config.yaml` (16 —à—Ç—É–∫)
2. ‚úÖ –ó–∞–≥—Ä—É–∑—è—Ç—Å—è —Ç–∏–∫–µ—Ä—ã –∏–∑ `data/portfolio.json` (6 —à—Ç—É–∫)
3. ‚úÖ –û–±—ä–µ–¥–∏–Ω—è—Ç—Å—è –±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (21 —à—Ç—É–∫–∞)
4. ‚úÖ –ü–æ –≤—Å–µ–º –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ —Å MOEX
5. ‚úÖ –†–∞—Å—Å—á–∏—Ç–∞—é—Ç—Å—è –º–µ—Ç—Ä–∏–∫–∏ –∏ —Å–∏–≥–Ω–∞–ª—ã
6. ‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ BUY/HOLD/SELL
7. ‚úÖ –í—Å—ë —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `data/analysis.json`

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –≤ 19:10:

```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º:
.\start_server.ps1
```

–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 19:10:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –≤—Å–µ —Ç–∏–∫–µ—Ä—ã (config + –ø–æ—Ä—Ç—Ñ–µ–ª—å)
- ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¥–∞—à–±–æ—Ä–¥
- ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üì± –í –¥–∞—à–±–æ—Ä–¥–µ

–ü–æ—Å–ª–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (19:10 –∏–ª–∏ –≤—Ä—É—á–Ω—É—é) –≤—ã —É–≤–∏–¥–∏—Ç–µ:

### –í–∫–ª–∞–¥–∫–∞ "üéØ –ö—Ä–∞—Ç–∫–æ (–†–µ—à–µ–Ω–∏—è)"
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–∫–µ—Ä–æ–≤, –≤–∫–ª—é—á–∞—è:
- RTKM (–†–æ—Å—Ç–µ–ª–µ–∫–æ–º)
- SBGB, SBMX (—Ñ–æ–Ω–¥—ã)
- TGLD (–∑–æ–ª–æ—Ç–æ)
- –ò –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è

### –í–∫–ª–∞–¥–∫–∞ "üìä –î–µ—Ç–∞–ª—å–Ω–æ"
–ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –≤—Å–µ–º —Ç–∏–∫–µ—Ä–∞–º:
- –¶–µ–Ω—ã –∏ –¥–∏–≤–∏–¥–µ–Ω–¥—ã
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (SMA)
- –°–∏–≥–Ω–∞–ª—ã

## ‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –û—Ç–∫–ª—é—á–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è

–ï—Å–ª–∏ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –Ω—É–∂–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–∏–∫–µ—Ä—ã –∏–∑ config:

```python
# –í run_job_once.py –∏–∑–º–µ–Ω–∏—Ç–µ:
report_dict = generator.generate_and_save(include_portfolio=False)
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```python
from app.process.report import ReportGenerator

generator = ReportGenerator()

# –° –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
report = generator.generate_report(include_portfolio=True)

# –ë–µ–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è
report = generator.generate_report(include_portfolio=False)

# –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —á—Ç–æ –±—É–¥–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è
combined = generator._get_combined_universe()
print(f"Will analyze: {combined}")
```

## üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –£–º–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ç–∏–∫–µ—Ä–æ–≤:
- `TGLD@` ‚Üí `TGLD` (—É–±–∏—Ä–∞–µ—Ç—Å—è @ –≤ –∫–æ–Ω—Ü–µ)
- –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:
- –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ç–∏–∫–µ—Ä—ã –∏–∑ config
- –ó–∞—Ç–µ–º –Ω–æ–≤—ã–µ —Ç–∏–∫–µ—Ä—ã –∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è
- –î—É–±–ª–∏–∫–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
- –ï—Å–ª–∏ —Ñ–∞–π–ª –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–µ –Ω–∞–π–¥–µ–Ω - –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ config
- –ï—Å–ª–∏ —Ç–∏–∫–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –Ω–∞ MOEX - –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –æ—à–∏–±–∫–∞, –Ω–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üìù –õ–æ–≥–∏

–í –ª–æ–≥–∞—Ö —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ:

```
INFO: Loaded 6 tickers from portfolio: RU000A10AS85, SBGB, SBMX, RTKM, YDEX, TGLD
INFO: Added portfolio ticker to analysis: RU000A10AS85
INFO: Added portfolio ticker to analysis: SBGB
INFO: Added portfolio ticker to analysis: SBMX
INFO: Added portfolio ticker to analysis: RTKM
INFO: Added portfolio ticker to analysis: TGLD
INFO: Processing 21 symbols (config + portfolio): ...
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### –û–±–ª–∏–≥–∞—Ü–∏–∏ –∏ —Ñ–æ–Ω–¥—ã:
- **RU000A10AS85** - —ç—Ç–æ –æ–±–ª–∏–≥–∞—Ü–∏—è, moexalgo –º–æ–∂–µ—Ç –Ω–µ –Ω–∞–π—Ç–∏ –µ—ë
- **SBGB, SBMX** - —Ñ–æ–Ω–¥—ã, –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –¥–∞–Ω–Ω—ã—Ö
- –ï—Å–ª–∏ —Ç–∏–∫–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –Ω–∞ MOEX, –æ–Ω –ø—Ä–æ—Å—Ç–æ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –æ—à–∏–±–∫–∞

### –†–µ—à–µ–Ω–∏–µ –¥–ª—è –æ–±–ª–∏–≥–∞—Ü–∏–π:
–ï—Å–ª–∏ –æ–±–ª–∏–≥–∞—Ü–∏–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è, –º–æ–∂–Ω–æ:
1. –£–¥–∞–ª–∏—Ç—å –∏—Ö –∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è (–≤—Ä–µ–º–µ–Ω–Ω–æ)
2. –ò–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å - –æ–Ω–∏ –ø—Ä–æ—Å—Ç–æ –±—É–¥—É—Ç —Å –æ—à–∏–±–∫–æ–π –≤ –æ—Ç—á—ë—Ç–µ
3. –ò–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –¥–ª—è –æ–±–ª–∏–≥–∞—Ü–∏–π

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ:
```
–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–æ—Å—å: 16 —Ç–∏–∫–µ—Ä–æ–≤ (—Ç–æ–ª—å–∫–æ config)
–í–∞—à–∏ –ø–æ–∑–∏—Ü–∏–∏: –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏—Å—å ‚ùå
```

### –°–µ–π—á–∞—Å:
```
–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è: 21 —Ç–∏–∫–µ—Ä (config + –ø–æ—Ä—Ç—Ñ–µ–ª—å)
–í–∞—à–∏ –ø–æ–∑–∏—Ü–∏–∏: –≤—Å–µ –≤ –¥–∞—à–±–æ—Ä–¥–µ ‚úÖ
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑:**
   ```powershell
   .\run_analysis.ps1
   ```

2. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã** (–∞–Ω–∞–ª–∏–∑ 21 —Ç–∏–∫–µ—Ä–∞)

3. **–û—Ç–∫—Ä–æ–π—Ç–µ –¥–∞—à–±–æ—Ä–¥:**
   ```
   http://localhost:8000
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
   - –í–∫–ª–∞–¥–∫–∞ "üéØ –ö—Ä–∞—Ç–∫–æ" - –≤–∞—à–∏ —Ç–∏–∫–µ—Ä—ã —Ç–∞–º?
   - –í–∫–ª–∞–¥–∫–∞ "üìä –î–µ—Ç–∞–ª—å–Ω–æ" ‚Üí "–í—Å–µ —Ç–∏–∫–µ—Ä—ã" - 21 —Å—Ç—Ä–æ–∫–∞?

5. **–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `logs/app.log`
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∏–∫–µ—Ä—ã (–æ—Å–æ–±–µ–Ω–Ω–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏) –º–æ–≥—É—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è

## üí° –°–æ–≤–µ—Ç—ã

### –î–ª—è –æ–±–ª–∏–≥–∞—Ü–∏–π:
–ï—Å–ª–∏ `RU000A10AS85` –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - moexalgo —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–∫—Ü–∏—è–º–∏
- –£–¥–∞–ª–∏—Ç–µ –∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫—É
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–∫–µ—Ä –∞–∫—Ü–∏–∏ (–µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –æ–±–ª–∏–≥–∞—Ü–∏—è)

### –î–ª—è —Ñ–æ–Ω–¥–æ–≤:
SBGB –∏ SBMX –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —ç—Ç–æ ETF –Ω–∞ –ú–æ—Å–±–∏—Ä–∂–µ.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–∫–µ—Ä–æ–≤:
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç–∏–∫–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ:
- RTKM - –†–æ—Å—Ç–µ–ª–µ–∫–æ–º ‚úÖ
- TGLD - –ó–æ–ª–æ—Ç–æ (ETF) ‚úÖ
- YDEX - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –º–æ–∂–µ—Ç —ç—Ç–æ YNDX? (–Ø–Ω–¥–µ–∫—Å)

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è!** üéâ

**–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `.\run_analysis.ps1` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç!**

