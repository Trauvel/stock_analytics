# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Stock Analytics

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](quickstart.md)
2. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](configuration.md)
3. [API](api.md)
4. [–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫](scheduler.md)
5. [–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](logging.md)
6. [Web GUI](gui.md)
7. [–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ GUI](settings_gui.md) ‚≠ê **NEW**
8. [FAQ](faq.md)
9. [–ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è](roadmap_future.md)

---

## –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö

### 1. Analysis Report (`schema.analysis.json`)

–°—Ö–µ–º–∞ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –æ—Ç—á—ë—Ç–∞ –ø–æ –∞–Ω–∞–ª–∏–∑—É –∞–∫—Ü–∏–π.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:**
- `generated_at` ‚Äî –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–∞
- `universe` ‚Äî —Å–ø–∏—Å–æ–∫ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã—Ö —Ç–∏–∫–µ—Ä–æ–≤
- `by_symbol` ‚Äî –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–∏–∫–µ—Ä—É

**–î–∞–Ω–Ω—ã–µ –ø–æ —Ç–∏–∫–µ—Ä—É (`SymbolData`):**
- `price` ‚Äî —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞
- `lot` ‚Äî —Ä–∞–∑–º–µ—Ä –ª–æ—Ç–∞
- `div_ttm` ‚Äî –¥–∏–≤–∏–¥–µ–Ω–¥—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 12 –º–µ—Å—è—Ü–µ–≤
- `dy_pct` ‚Äî –¥–∏–≤–∏–¥–µ–Ω–¥–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
- `sma_20`, `sma_50`, `sma_200` ‚Äî —Å–∫–æ–ª—å–∑—è—â–∏–µ —Å—Ä–µ–¥–Ω–∏–µ
- `high_52w`, `low_52w` ‚Äî —ç–∫—Å—Ç—Ä–µ–º—É–º—ã –∑–∞ 52 –Ω–µ–¥–µ–ª–∏
- `dist_52w_low_pct`, `dist_52w_high_pct` ‚Äî —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —ç–∫—Å—Ç—Ä–µ–º—É–º–æ–≤
- `signals` ‚Äî –º–∞—Å—Å–∏–≤ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- `meta` ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (board, error, updated_at)

**–¢–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã:**
- `PRICE_BELOW_SMA200` ‚Äî —Ü–µ–Ω–∞ –Ω–∏–∂–µ SMA200
- `PRICE_ABOVE_SMA200` ‚Äî —Ü–µ–Ω–∞ –≤—ã—à–µ SMA200
- `SMA50_CROSS_UP_SMA200` ‚Äî –∑–æ–ª–æ—Ç–æ–π –∫—Ä–µ—Å—Ç (SMA50 –ø–µ—Ä–µ—Å–µ–∫–ª–∞ SMA200 —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö)
- `SMA50_CROSS_DOWN_SMA200` ‚Äî –∫—Ä–µ—Å—Ç —Å–º–µ—Ä—Ç–∏ (SMA50 –ø–µ—Ä–µ—Å–µ–∫–ª–∞ SMA200 —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑)
- `DY_GT_TARGET` ‚Äî –¥–∏–≤–∏–¥–µ–Ω–¥–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –≤—ã—à–µ —Ü–µ–ª–µ–≤–æ–π
- `VOL_SPIKE` ‚Äî –≤—Å–ø–ª–µ—Å–∫ –æ–±—ä—ë–º–∞
- `NEAR_52W_LOW` ‚Äî –±–ª–∏–∑–∫–æ –∫ –º–∏–Ω–∏–º—É–º—É 52 –Ω–µ–¥–µ–ª—å
- `NEAR_52W_HIGH` ‚Äî –±–ª–∏–∑–∫–æ –∫ –º–∞–∫—Å–∏–º—É–º—É 52 –Ω–µ–¥–µ–ª—å

**–ü—Ä–∏–º–µ—Ä:** —Å–º. `examples/analysis.json`

---

### 2. Portfolio (`schema.portfolio.json`)

–°—Ö–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:**
- `name` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è
- `currency` ‚Äî –±–∞–∑–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é RUB)
- `cash` ‚Äî —Å–≤–æ–±–æ–¥–Ω—ã–µ –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞
- `positions` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ–∑–∏—Ü–∏–π
- `created_at`, `updated_at` ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

**–ü–æ–∑–∏—Ü–∏—è (`Position`):**
- `symbol` ‚Äî —Ç–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- `quantity` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ —à—Ç—É–∫–∞—Ö
- `avg_price` ‚Äî —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏
- `market` ‚Äî —Ä—ã–Ω–æ–∫ (moex, spb –∏ —Ç.–¥.)
- `type` ‚Äî —Ç–∏–ø –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (stock, bond, etf, currency)
- `notes` ‚Äî –∑–∞–º–µ—Ç–∫–∏

**–ü—Ä–∏–º–µ—Ä:** —Å–º. `examples/portfolio.json`

---

### 3. Candle (`schema.candle.json`)

–°—Ö–µ–º–∞ —Å–≤–µ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (OHLCV).

**–ü–æ–ª—è:**
- `open` ‚Äî —Ü–µ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è
- `high` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- `low` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- `close` ‚Äî —Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
- `volume` ‚Äî –æ–±—ä—ë–º —Ç–æ—Ä–≥–æ–≤ –≤ —à—Ç—É–∫–∞—Ö
- `begin` ‚Äî –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Å–≤–µ—á–∏
- `end` ‚Äî –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–≤–µ—á–∏
- `value` ‚Äî –æ–±—ä—ë–º –≤ –≤–∞–ª—é—Ç–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü—Ä–∏–º–µ—Ä:** —Å–º. `examples/candles.json`

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```python
from app.config.loader import get_config

config = get_config()
print(f"–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º {len(config.universe)} —Ç–∏–∫–µ—Ä–æ–≤")
```

### –†–∞–±–æ—Ç–∞ —Å –º–æ–¥–µ–ª—è–º–∏

```python
from app.models import AnalysisReport, Portfolio
import json

# –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—á—ë—Ç–∞
with open('data/analysis.json') as f:
    report = AnalysisReport(**json.load(f))

# –†–∞–±–æ—Ç–∞ —Å –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º
portfolio = Portfolio(
    name="–ú–æ–π –ø–æ—Ä—Ç—Ñ–µ–ª—å",
    currency="RUB",
    cash=100000
)
```

---

## –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```
data/
‚îú‚îÄ‚îÄ analysis.json           # –ü–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç—á—ë—Ç
‚îú‚îÄ‚îÄ portfolio.json          # –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å
‚îú‚îÄ‚îÄ reports/                # –ê—Ä—Ö–∏–≤ –æ—Ç—á—ë—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ 2025-10-06.json
‚îÇ   ‚îî‚îÄ‚îÄ 2025-10-05.json
‚îî‚îÄ‚îÄ raw/                    # –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
    ‚îú‚îÄ‚îÄ SBER/
    ‚îÇ   ‚îî‚îÄ‚îÄ candles.parquet
    ‚îî‚îÄ‚îÄ GAZP/
        ‚îî‚îÄ‚îÄ candles.parquet
```

